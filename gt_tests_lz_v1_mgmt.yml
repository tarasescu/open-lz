# ####################################################################################################### #
# Copyright (c) 2023 Oracle and/or its affiliates,  All rights reserved.                                  #
# Licensed under the Universal Permissive License v 1.0 as shown at https: //oss.oracle.com/licenses/upl. #                                            
# ####################################################################################################### #


---
compartments_configuration:
  enable_delete: 'true'
  default_parent_ocid: ocid1.tenancy.oc1..aaaaaaaa4o4migdkop5joncqg3tbv73eknenxp7yojemgl5seteszzweuaxq
  compartments:
    ISV-MGMT-KEY:
      name: isv-mgmt-cmp
      description: ISV compartment for Management - managed by the ISV
      parent_id: ocid1.tenancy.oc1..aaaaaaaa4o4migdkop5joncqg3tbv73eknenxp7yojemgl5seteszzweuaxq
      defined_tags:
      freeform_tags:
      children:
        ISV-LZ-MGMT-NTW-KEY:
          name: isv-lz-mgmt-ntw
          description: ISV MGMT shared network compartment
          defined_tags:
          freeform_tags: {}
        ISV-LZ-MGMT-SEC-KEY:
          name: isv-lz-mgmt-sec
          description: ISV MGMT shared security compartment
          defined_tags:
          freeform_tags: {}
        ISV-LZ-MGMT-APP-KEY:
          name: isv-lz-mgmt-app
          description: ISV MGMT shared app compartment
          defined_tags:
          freeform_tags: {}
        ISV-LZ-MGMT-DB-KEY:
          name: isv-lz-mgmt-db
          description: ISV MGMT shared db compartment
          defined_tags:
          freeform_tags: {}
groups_configuration:
  default_defined_tags:
  default_freeform_tags:
  groups:
    isv-lz-mgmt-iam-admins-group:
      name: isv-lz-mgmt-iam-admins-group
      description: ISV LZ-MGMT admins group allowed to manage groups (except Administrators)
    isv-lz-mgmt-platform-admins-group:
      name: isv-lz-mgmt-platform-admins-group
      description: ISV platform admins group manage all cost, billing, and budget related resources
    isv-lz-mgmt-ops-admins-group:
      name: isv-lz-mgmt-ops-admins-group
      description: ISV ops admins group are allowed to manage alarms, topics and subscription of notification service as well as read metrics and announcements
    isv-lz-mgmt-ntw-admins-group:
      name: isv-lz-mgmt-ntw-admins-group
      description: ISV ntw admins group are allowed to manage all network resources
    isv-lz-mgmt-sec-admins-group:
      name: isv-lz-mgmt-sec-admins-group
      description: ISV sec admins group are allowed to manage all security related resources
    isv-lz-mgmt-app-admins-group:
      name: isv-lz-mgmt-app-admins-group
      description: ISV app admins group are allowed to manage all compute and storage resources that host workloads
    isv-lz-mgmt-db-admins-group:
      name: isv-lz-mgmt-db-admins-group
      description: ISV app admins group are allowed to manage databases, database storage, and networking
    isv-lz-mgmt-billing-admins-group:
      name: isv-lz-mgmt-billing-admins-group
      description: ISV billing admins group are allowed to manage invoice information, overview off all costs, compiling reports, download invoices, tax settings, invoice dispute management
    isv-lz-mgmt-finops-admins-group:
      name: isv-lz-mgmt-finops-admins-group
      description: ISV finops admins group are allowed to manage cost analysis, global and on all accounts, Define quotas, read all resources and utilization
    isv-lz-mgmt-product-admins-group:
      name: isv-lz-mgmt-product-admins-group
      description: ISV product admins group are allowed to manage compartment Costs Analysis, view all resourcesÂ in the owned compartment
    isv-lz-mgmt-support-admins-group:
      name: isv-lz-mgmt-support-admins-group
      description: ISV support admins group are allowed to raise tickets, view on all ticket requests
dynamic_groups_configuration:
  dynamic_groups: {}
policies_configuration:
  supplied_policies:
    isv-lz-mgmt-iam-admins-policy:
      name: isv-lz-mgmt-iam-admins-policy
      description: isv-lz-mgmt-iam-admins-policy
      compartment_ocid: ocid1.tenancy.oc1..aaaaaaaa4o4migdkop5joncqg3tbv73eknenxp7yojemgl5seteszzweuaxq
      statements:
      - allow group isv-lz-mgmt-iam-admins-group to inspect users in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to inspect groups in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to read policies in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage groups in tenancy where all {target.group.name != 'Administrators'}
      - allow group isv-lz-mgmt-iam-admins-group to inspect identity-providers in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage identity-providers in tenancy where any {request.operation = 'AddIdpGroupMapping', request.operation = 'DeleteIdpGroupMapping'}
      - allow group isv-lz-mgmt-iam-admins-group to manage dynamic-groups in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage authentication-policies in tenancy,
      - allow group isv-lz-mgmt-iam-admins-group to manage network-sources in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage quota in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to read audit-events in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to use cloud-shell in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage tag-defaults in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage tag-namespaces in tenancy
      - allow group isv-lz-mgmt-iam-admins-group to manage users in tenancy  where any {request.operation = 'ListApiKeys',request.operation = 'ListAuthTokens',request.operation = 'ListCustomerSecretKeys',request.operation = 'UploadApiKey',request.operation = 'DeleteApiKey',request.operation = 'UpdateAuthToken',request.operation = 'CreateAuthToken',request.operation = 'DeleteAuthToken',request.operation = 'CreateSecretKey',request.operation = 'UpdateCustomerSecretKey',request.operation = 'DeleteCustomerSecretKey',request.operation = 'UpdateUserCapabilities'}

    # isv-demo-uat-admin-policy:
    #   name: isv-demo-uat-admin-policy
    #   description: isv demo-uat admin policy
    #   compartment_ocid: ocid1.tenancy.oc1..aaaaaaaa4o4migdkop5joncqg3tbv73eknenxp7yojemgl5seteszzweuaxq
    #   statements:
    #   - allow group isv-demo-uat-admin-group to read all-resources in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage instance-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage database-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage load-balancers in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage volume-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage tag-namespaces in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage alarms in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage metrics in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage object-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage orm-stacks in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage orm-jobs in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage orm-config-source-providers in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to read audit-events in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to read work-requests in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage bastion-session in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to read instance-agent-plugins in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage functions-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage api-gateway-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage ons-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage streams in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage cluster-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage logs in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage object-family in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage repos in compartment isv-demo-uat-cmp
    #   - allow group isv-demo-uat-admin-group to manage cloudevents-rules in compartment isv-demo-uat-cmp
    # isv-demo-dev-admin-policy:
    #   name: isv-demo-dev-admin-policy
    #   description: isv uat admin policy
    #   compartment_ocid: ocid1.tenancy.oc1..aaaaaaaa4o4migdkop5joncqg3tbv73eknenxp7yojemgl5seteszzweuaxq
    #   statements:
    #   - allow group isv-demo-dev-admin-group to read all-resources in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage instance-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage database-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage load-balancers in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage volume-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage tag-namespaces in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage alarms in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage metrics in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage object-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage orm-stacks in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage orm-jobs in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage orm-config-source-providers in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to read audit-events in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to read work-requests in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage bastion-session in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to read instance-agent-plugins in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage functions-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage api-gateway-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage ons-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage streams in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage cluster-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage logs in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage object-family in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage repos in compartment isv-demo-dev-cmp
    #   - allow group isv-demo-dev-admin-group to manage cloudevents-rules in compartment isv-demo-dev-cmp      
   

# network_configuration:
#   default_enable_cis_checks: false
#   default_freeform_tags:
#     vision-environment: vision
#   network_configuration_categories:
#     HUB:
#       category_compartment_key: ISV-DEMO-NTW-KEY
#       category_freeform_tags:
#         vision-sub-environment: hub
#       non_vcn_specific_gateways:
#         dynamic_routing_gateways:
#           DRG-HUB-KEY:
#             display_name: drg-fra-hub
#             drg_attachments:
#               DRG-HUB-VCN-CH-ATTACH-KEY:
#                 display_name: drg-hub-vcn-ch-attach
#                 network_details:
#                   attached_resource_key: VCN-CHANNELS-KEY
#                   type: VCN
#               DRG-HUB-VCN-H-ATTACH-KEY:
#                 display_name: drg-hub-vcn-h-attach
#                 network_details:
#                   attached_resource_key: VCN-HUB-KEY
#                   type: VCN
#       vcns:
#         VCN-HUB-KEY:
#           block_nat_traffic: false
#           cidr_blocks:
#           - 10.0.0.0/24
#           default-security-list:
#             egress_rules:
#             - description: egress to 0.0.0.0/0 over ALL protocols
#               dst: 0.0.0.0/0
#               dst_type: CIDR_BLOCK
#               protocol: ALL
#               stateless: false
#             ingress_rules:
#             - description: ingress from 0.0.0.0/0 over TCP22
#               dst_port_max: 22
#               dst_port_min: 22
#               protocol: TCP
#               src: 0.0.0.0/0
#               src_type: CIDR_BLOCK
#               stateless: false
#             - description: ingress from 0.0.0.0/0 over TCP443
#               dst_port_max: 443
#               dst_port_min: 443
#               protocol: TCP
#               src: 0.0.0.0/0
#               src_type: CIDR_BLOCK
#               stateless: false
#           display_name: vcn-fra-hub
#           dns_label: vcnfrahub
#           is_ipv6enabled: false
#           is_oracle_gua_allocation_enabled: false
#           route_tables:
#             SUBNET-HUB-RT-KEY:
#               display_name: subnet-hub-rt
#               route_rules: {}
#           subnets:
#             SUBNET-HUB-KEY:
#               cidr_block: 10.0.0.0/26
#               dhcp_options_key: default_dhcp_options
#               display_name: sn-fra-hub-fw
#               dns_label: snfrahubfw
#               ipv6cidr_blocks: []
#               prohibit_internet_ingress: true
#               prohibit_public_ip_on_vnic: true
#               route_table_key: SUBNET-HUB-RT-KEY
#               security_list_keys:
#               - default_security_list
#     SPOKE-CHANNELS:
#       category_compartment_key: ISV-DEMO-NTW-KEY
#       category_freeform_tags:
#         vision-sub-environment: spokechannels
#       vcns:
#         VCN-CHANNELS-KEY:
#           block_nat_traffic: false
#           cidr_blocks:
#           - 10.1.0.0/24
#           default-security-list:
#             egress_rules:
#             - description: egress to 0.0.0.0/0 over ALL protocols
#               dst: 0.0.0.0/0
#               dst_type: CIDR_BLOCK
#               protocol: ALL
#               stateless: false
#             ingress_rules:
#             - description: ingress from 0.0.0.0/0 over TCP22
#               dst_port_max: 22
#               dst_port_min: 22
#               protocol: TCP
#               src: 0.0.0.0/0
#               src_type: CIDR_BLOCK
#               stateless: false
#             - description: ingress from 0.0.0.0/0 over TCP443
#               dst_port_max: 443
#               dst_port_min: 443
#               protocol: TCP
#               src: 0.0.0.0/0
#               src_type: CIDR_BLOCK
#               stateless: false
#           display_name: vcn-channels-np
#           dns_label: vcnchannelsnp
#           is_attach_drg: false
#           is_create_igw: false
#           is_ipv6enabled: false
#           is_oracle_gua_allocation_enabled: false
#           route_tables:
#             SUBNET-CH-RT-KEY:
#               display_name: subnet-channels-rt
#               route_rules: {}
#           subnets:
#             SUBNET-CH-KEY:
#               cidr_block: 10.1.0.0/26
#               dhcp_options_key: default_dhcp_options
#               display_name: sn-channels-np-common
#               dns_label: snchnpcommon
#               ipv6cidr_blocks: []
#               prohibit_internet_ingress: true
#               prohibit_public_ip_on_vnic: true
#               route_table_key: SUBNET-CH-RT-KEY
#               security_list_keys:
#               - default_security_list
